---
apiVersion: v1
kind: ConfigMap
metadata:
  name: "{{ app_name }}-config"
  namespace: "{{ app_namespace | default('default') }}"
  labels:
    app: "{{ app_name }}"
data:
  # This data is sourced from the 'app_config' dictionary variable
  # defined for the application in the inventory/group_vars.
  {% for key, value in app_config.items() %}
  {{ key }}: {{ value | to_nice_yaml | indent(2) }}
  {% endfor %}
