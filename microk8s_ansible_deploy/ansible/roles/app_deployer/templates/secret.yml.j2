---
apiVersion: v1
kind: Secret
metadata:
  name: "{{ app_name }}-secret"
  namespace: "{{ app_namespace | default('default') }}"
  labels:
    app: "{{ app_name }}"
type: Opaque
data:
  # This data is sourced from the 'app_secrets' dictionary variable.
  # It is highly recommended to store the raw values for 'app_secrets'
  # in an Ansible Vault encrypted file.
  {% for key, value in app_secrets.items() %}
  {{ key }}: {{ value | b64encode }}
  {% endfor %}
