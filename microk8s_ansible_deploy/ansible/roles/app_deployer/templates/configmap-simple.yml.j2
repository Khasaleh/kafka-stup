---
apiVersion: v1
kind: ConfigMap
metadata:
  name: "{{ app_name }}-config"
  namespace: "{{ app_namespace | default('default') }}"
  labels:
    app: "{{ app_name }}"
data:
  SERVICE_NAME: "{{ app_name }}"
  DEPLOYMENT_MODE: "{{ 'refactored' if use_refactored_config else 'legacy' }}"
  {% for key, value in configmap_data.items() %}
  {{ key }}: "{{ value }}"
  {% endfor %} 